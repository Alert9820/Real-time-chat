<!DOCTYPE html>

<html lang="en">

<head>

  <meta charset="UTF-8" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

  <title>Dashboard | BotX</title>

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>

    :root {

      --primary: #6cf;

      --primary-dark: #4aa8ff;

      --secondary: #ff6b6b;

      --bg-dark: #0f0f0f;

      --bg-darker: #080808;

      --card-bg: #1c1c1c;

      --card-hover: #242424;

      --text-light: #aaa;

      --text-lighter: #ddd;

      --success: #6bff6b;

      --warning: #ffcc00;

    }



    * { 

      margin: 0; 

      padding: 0; 

      box-sizing: border-box; 

    }

    

    body {

      font-family: 'Poppins', sans-serif;

      background: var(--bg-dark);

      color: #fff;

      min-height: 100vh;

      overflow-x: hidden;

    }



    /* Custom Scrollbar */

    ::-webkit-scrollbar {

      width: 8px;

    }

    ::-webkit-scrollbar-track {

      background: var(--bg-darker);

    }

    ::-webkit-scrollbar-thumb {

      background: var(--primary);

      border-radius: 4px;

    }



    /* Topbar */

    .topbar {

      background: rgba(18, 18, 18, 0.9);

      display: flex;

      justify-content: space-between;

      align-items: center;

      padding: 15px 30px;

      position: fixed;

      top: 0;

      left: 0;

      width: 100%;

      z-index: 100;

      backdrop-filter: blur(10px);

      box-shadow: 0 2px 20px rgba(0, 0, 0, 0.3);

    }



    .toggle {

      font-size: 24px;

      color: var(--primary);

      cursor: pointer;

      transition: transform 0.3s ease;

    }



    .toggle:hover {

      transform: scale(1.1);

    }



    .topbar h2 {

      background: linear-gradient(90deg, var(--primary), var(--success));

      -webkit-background-clip: text;

      background-clip: text;

      color: transparent;

      font-weight: 600;

      font-size: 1.5rem;

    }



    .profile-pic {

      width: 42px;

      height: 42px;

      border-radius: 50%;

      object-fit: cover;

      cursor: pointer;

      border: 2px solid var(--primary);

      transition: all 0.3s ease;

    }



    .profile-pic:hover {

      transform: scale(1.05);

      box-shadow: 0 0 15px var(--primary);

    }



    /* Sidebar */

    .sidebar {

      width: 250px;

      background: rgba(18, 18, 18, 0.95);

      position: fixed;

      top: 0;

      left: 0;

      height: 100%;

      padding: 20px;

      display: flex;

      flex-direction: column;

      gap: 10px;

      transform: translateX(-100%);

      transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.1);

      z-index: 90;

      backdrop-filter: blur(5px);

      border-right: 1px solid rgba(108, 255, 255, 0.1);

    }



    .sidebar.active {

      transform: translateX(0);

    }



    .sidebar .close-btn {

      font-size: 24px;

      color: var(--secondary);

      align-self: flex-end;

      cursor: pointer;

      margin-bottom: 20px;

      transition: transform 0.3s ease;

    }



    .sidebar .close-btn:hover {

      transform: rotate(90deg);

    }



    .sidebar a {

      text-decoration: none;

      color: var(--text-light);

      font-weight: 500;

      padding: 12px 15px;

      border-radius: 8px;

      display: flex;

      align-items: center;

      gap: 12px;

      transition: all 0.3s ease;

    }



    .sidebar a:hover {

      background: rgba(108, 255, 255, 0.1);

      color: var(--primary);

      transform: translateX(5px);

    }



    .sidebar a i {

      width: 24px;

      text-align: center;

    }



    .sidebar a.active {

      background: rgba(108, 255, 255, 0.2);

      color: var(--primary);

    }



    /* Main Content */

    .main {

      padding: 100px 30px 30px;

      max-width: 1200px;

      margin: 0 auto;

    }



    h1 {

      font-size: 2.5rem;

      margin-bottom: 10px;

      background: linear-gradient(90deg, var(--primary), var(--text-lighter));

      -webkit-background-clip: text;

      background-clip: text;

      color: transparent;

    }



    .tagline {

      font-size: 1rem;

      margin-bottom: 20px;

      color: var(--text-light);

      font-weight: 300;

      max-width: 600px;

    }



    .uid-text {

      color: var(--primary);

      font-size: 0.9rem;

      margin-bottom: 30px;

      display: inline-block;

      padding: 5px 10px;

      background: rgba(108, 255, 255, 0.1);

      border-radius: 20px;

      font-family: monospace;

    }



    .features-grid {

      display: grid;

      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));

      gap: 20px;

      margin-top: 30px;

    }



    .feature-box {

      background: var(--card-bg);

      padding: 25px;

      border-radius: 12px;

      transition: all 0.3s ease;

      position: relative;

      overflow: hidden;

      border-left: 4px solid var(--primary);

    }



    .feature-box:hover {

      transform: translateY(-5px);

      background: var(--card-hover);

      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);

    }



    .feature-box::before {

      content: '';

      position: absolute;

      top: 0;

      left: 0;

      width: 100%;

      height: 100%;

      background: linear-gradient(135deg, rgba(108, 255, 255, 0.1), transparent);

      z-index: -1;

    }



    .feature-box strong {

      color: var(--primary);

      font-size: 1.1rem;

      display: block;

      margin-bottom: 10px;

    }



    .feature-box p {

      color: var(--text-light);

      line-height: 1.6;

    }



    .feature-icon {

      font-size: 1.5rem;

      color: var(--primary);

      margin-bottom: 15px;

    }



    /* Profile Popup */

    .profile-popup {

      position: fixed;

      top: 80px;

      right: 30px;

      width: 320px;

      background: rgba(31, 31, 31, 0.95);

      padding: 25px;

      border-radius: 15px;

      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);

      display: none;

      flex-direction: column;

      gap: 15px;

      z-index: 200;

      backdrop-filter: blur(10px);

      border: 1px solid rgba(108, 255, 255, 0.1);

      transform: translateY(20px);

      opacity: 0;

      transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);

    }



    .profile-popup.active {

      display: flex;

      transform: translateY(0);

      opacity: 1;

    }



    .dp-wrapper {

      position: relative;

      align-self: center;

      width: 100px;

      height: 100px;

    }



    .dp-wrapper img {

      width: 100%;

      height: 100%;

      border-radius: 50%;

      object-fit: cover;

      border: 3px solid var(--primary);

      box-shadow: 0 0 20px var(--primary-dark);

      transition: all 0.3s ease;

    }



    .dp-wrapper:hover img {

      transform: scale(1.05);

      box-shadow: 0 0 30px var(--primary-dark);

    }



    .dp-wrapper label {

      position: absolute;

      bottom: 5px;

      right: 5px;

      background: var(--primary);

      color: #000;

      font-size: 14px;

      width: 30px;

      height: 30px;

      display: flex;

      align-items: center;

      justify-content: center;

      border-radius: 50%;

      cursor: pointer;

      transition: all 0.3s ease;

    }



    .dp-wrapper label:hover {

      transform: scale(1.1) rotate(15deg);

      background: var(--primary-dark);

    }



    .profile-popup input, 

    .profile-popup textarea {

      background: rgba(42, 42, 42, 0.7);

      border: 1px solid rgba(108, 255, 255, 0.2);

      border-radius: 8px;

      padding: 12px 15px;

      color: white;

      width: 100%;

      font-size: 14px;

      transition: all 0.3s ease;

    }



    .profile-popup input:focus, 

    .profile-popup textarea:focus {

      outline: none;

      border-color: var(--primary);

      box-shadow: 0 0 10px rgba(108, 255, 255, 0.3);

    }



    .profile-popup button {

      background: var(--primary);

      color: black;

      border: none;

      border-radius: 8px;

      padding: 12px;

      font-weight: 600;

      cursor: pointer;

      transition: all 0.3s ease;

      display: flex;

      align-items: center;

      justify-content: center;

      gap: 8px;

    }



    .profile-popup button:hover {

      background: var(--primary-dark);

      transform: translateY(-2px);

      box-shadow: 0 5px 15px rgba(108, 255, 255, 0.3);

    }



    .profile-popup .danger {

      background: var(--secondary);

      margin-top: 5px;

    }



    .profile-popup .danger:hover {

      background: #ff5252;

      box-shadow: 0 5px 15px rgba(255, 107, 107, 0.3);

    }



    /* Floating Particles Background */

    .particles {

      position: fixed;

      top: 0;

      left: 0;

      width: 100%;

      height: 100%;

      z-index: -1;

      overflow: hidden;

    }



    .particle {

      position: absolute;

      background: rgba(108, 255, 255, 0.5);

      border-radius: 50%;

      pointer-events: none;

    }



    /* Responsive */

    @media (max-width: 768px) {

      .sidebar {

        width: 220px;

      }

      

      .main {

        padding: 90px 20px 30px;

      }

      

      .profile-popup {

        width: 280px;

        right: 20px;

      }

    }



    @media (max-width: 480px) {

      .topbar {

        padding: 15px 20px;

      }

      

      h1 {

        font-size: 2rem;

      }

      

      .features-grid {

        grid-template-columns: 1fr;

      }

    }



    /* Animations */

    @keyframes float {

      0%, 100% { transform: translateY(0); }

      50% { transform: translateY(-10px); }

    }



    .floating {

      animation: float 4s ease-in-out infinite;

    }



    /* Status Indicator */

    .status-indicator {

      position: fixed;

      bottom: 20px;

      right: 20px;

      background: var(--success);

      width: 12px;

      height: 12px;

      border-radius: 50%;

      box-shadow: 0 0 10px var(--success);

      z-index: 1000;

    }



    /* Toast Notification */

    .toast {

      position: fixed;

      bottom: 30px;

      left: 50%;

      transform: translateX(-50%);

      background: rgba(31, 31, 31, 0.95);

      color: white;

      padding: 12px 25px;

      border-radius: 8px;

      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);

      display: flex;

      align-items: center;

      gap: 10px;

      z-index: 1000;

      opacity: 0;

      transition: opacity 0.3s ease;

      border-left: 4px solid var(--success);

    }



    .toast.show {

      opacity: 1;

    }



    .toast.error {

      border-left-color: var(--secondary);

    }

  </style>

</head>

<body>

  <!-- Floating Particles Background -->

  <div class="particles" id="particles"></div>



  <div class="topbar">

    <div class="toggle" onclick="toggleSidebar()"><i class="fas fa-bars"></i></div>

    <h2>BotX Dashboard</h2>

    <img src="default.png" id="dp" class="profile-pic" onclick="toggleProfile()" />

  </div>



  <div class="sidebar" id="sidebar">

    <div class="close-btn" onclick="toggleSidebar()"><i class="fas fa-times"></i></div>

    <a href="/home.html" class="active"><i class="fas fa-home"></i> Bot Assistant</a>

    <a href="/chatroom.html"><i class="fas fa-comments"></i> Chat Room</a>

    <a href="/privatechat.html"><i class="fas fa-lock"></i> Private Chat</a>

    <a href="/history.html"><i class="fas fa-history"></i> Bot History</a>

    <a href="/friends.html"><i class="fas fa-user-friends"></i> Friends</a>

    <a href="/login.html" onclick="logout()"><i class="fas fa-sign-out-alt"></i> Logout</a>

  </div>



  <div class="main">

    <h1 id="welcome">Welcome!</h1>

    <p class="tagline">"Let your thoughts flow — BotX is here to assist you ✨"</p>

    <p class="uid-text" id="uidDisplay">Your UID: Loading...</p>



    <div class="features-grid">

      <div class="feature-box floating" style="animation-delay: 0.1s">

        <div class="feature-icon"><i class="fas fa-robot"></i></div>

        <strong>Bot Assistant</strong>

        <p>A smart Hinglish/English assistant to answer your queries, generate code, brainstorm ideas, and more with natural conversation.</p>

      </div>

      <div class="feature-box floating" style="animation-delay: 0.3s">

        <div class="feature-icon"><i class="fas fa-users"></i></div>

        <strong>Chat Room</strong>

        <p>A vibrant community space to connect with random users in real-time, complete with typing indicators and rich media support.</p>

      </div>

      <div class="feature-box floating" style="animation-delay: 0.5s">

        <div class="feature-icon"><i class="fas fa-key"></i></div>

        <strong>Private Chat</strong>

        <p>Create secure, invite-only rooms with unique codes to chat privately with friends — BotX can join your private conversations too!</p>

      </div>

      <div class="feature-box floating" style="animation-delay: 0.7s">

        <div class="feature-icon"><i class="fas fa-book"></i></div>

        <strong>Bot History</strong>

        <p>Never lose a conversation. Access your complete chat history with BotX across all sessions and devices.</p>

      </div>

    </div>

  </div>



  <div class="profile-popup" id="profilePopup">

    <div class="dp-wrapper">

      <img id="popupDp" src="default.png" />

      <label for="dpInput"><i class="fas fa-pencil-alt"></i></label>

      <input type="file" id="dpInput" accept="image/*" style="display: none" />

    </div>

    <input type="text" id="userName" placeholder="Your name" />

    <input type="email" id="userEmail" placeholder="Your email" />

    <textarea id="userBio" rows="3" placeholder="Tell us about yourself..."></textarea>

    <button onclick="saveProfile()"><i class="fas fa-save"></i> Save Profile</button>

    <button class="danger" onclick="deleteAccount()"><i class="fas fa-trash-alt"></i> Delete Account</button>

  </div>



  <!-- Status Indicator -->

  <div class="status-indicator" id="statusIndicator"></div>



  <!-- Toast Notification -->

  <div class="toast" id="toast"></div>



  <script>

    // DOM Elements

    const sidebar = document.getElementById("sidebar");

    const profilePopup = document.getElementById("profilePopup");

    const dp = document.getElementById("dp");

    const popupDp = document.getElementById("popupDp");

    const dpInput = document.getElementById("dpInput");

    const statusIndicator = document.getElementById("statusIndicator");

    const toast = document.getElementById("toast");

    const particlesContainer = document.getElementById("particles");



    // Toggle Sidebar

    function toggleSidebar() {

      sidebar.classList.toggle("active");

    }



    // Toggle Profile Popup

    function toggleProfile() {

      profilePopup.classList.toggle("active");

    }



    // Logout Function

    function logout() {

      localStorage.clear();

      showToast("Logged out successfully", "success");

      setTimeout(() => {

        window.location.href = "/login.html";

      }, 1000);

    }



    // Profile Picture Upload

    dpInput.onchange = function() {

      const file = this.files[0];

      if (file) {

        if (file.size > 2 * 1024 * 1024) {

          showToast("Image size should be less than 2MB", "error");

          return;

        }

        

        const reader = new FileReader();

        reader.onload = () => {

          localStorage.setItem("dp", reader.result);

          dp.src = reader.result;

          popupDp.src = reader.result;

          showToast("Profile picture updated", "success");

        };

        reader.readAsDataURL(file);

      }

    };



    // Save Profile

    function saveProfile() {

      const name = document.getElementById("userName").value.trim();

      const email = document.getElementById("userEmail").value.trim();

      const bio = document.getElementById("userBio").value.trim();

      const user = JSON.parse(localStorage.getItem("user") || "{}");

      const uid = user.uid || "USER" + Math.floor(Math.random() * 1000000);



      if (!name) {

        showToast("Please enter your name", "error");

        return;

      }



      localStorage.setItem("user", JSON.stringify({ name, email, bio, uid }));

      document.getElementById("welcome").innerText = `Welcome, ${name || "User"}!`;

      document.getElementById("uidDisplay").innerText = `Your UID: ${uid}`;

      profilePopup.classList.remove("active");

      showToast("Profile saved successfully", "success");

    }



    // Delete Account

    function deleteAccount() {

      if (confirm("Are you sure you want to delete your account? This cannot be undone.")) {

        localStorage.clear();

        showToast("Account deleted successfully", "success");

        setTimeout(() => {

          window.location.href = "/login.html";

        }, 1500);

      }

    }



    // Show Toast Notification

    function showToast(message, type = "success") {

      toast.innerHTML = `<i class="fas fa-${type === "success" ? "check-circle" : "exclamation-circle"}"></i> ${message}`;

      toast.className = `toast ${type === "error" ? "error" : ""} show`;

      

      setTimeout(() => {

        toast.classList.remove("show");

      }, 3000);

    }



    // Create Floating Particles

    function createParticles() {

      const particleCount = window.innerWidth < 768 ? 30 : 50;

      

      for (let i = 0; i < particleCount; i++) {

        const particle = document.createElement("div");

        particle.classList.add("particle");

        

        const size = Math.random() * 5 + 2;

        const posX = Math.random() * window.innerWidth;

        const posY = Math.random() * window.innerHeight;

        const opacity = Math.random() * 0.5 + 0.1;

        const duration = Math.random() * 20 + 10;

        const delay = Math.random() * -20;

        

        particle.style.width = `${size}px`;

        particle.style.height = `${size}px`;

        particle.style.left = `${posX}px`;

        particle.style.top = `${posY}px`;

        particle.style.opacity = opacity;

        particle.style.animation = `float ${duration}s ease-in-out ${delay}s infinite`;

        

        particlesContainer.appendChild(particle);

      }

    }



    // Simulate Connection Status

    function updateConnectionStatus() {

      statusIndicator.style.backgroundColor = "var(--success)";

      statusIndicator.style.boxShadow = "0 0 10px var(--success)";

      

      // Randomly simulate connection issues (for demo)

      if (Math.random() < 0.1) {

        setTimeout(() => {

          statusIndicator.style.backgroundColor = "var(--warning)";

          statusIndicator.style.boxShadow = "0 0 10px var(--warning)";

          showToast("Connection unstable", "error");

          

          setTimeout(() => {

            statusIndicator.style.backgroundColor = "var(--success)";

            statusIndicator.style.boxShadow = "0 0 10px var(--success)";

            showToast("Connection restored", "success");

          }, 2000);

        }, 5000);

      }

    }



    // Load user info

    window.onload = () => {

      // Initialize with demo data if no user exists

      if (!localStorage.getItem("user")) {

        const demoUid = "USER" + Math.floor(Math.random() * 1000000);

        localStorage.setItem("user", JSON.stringify({

          name: "New User",

          email: "",

          bio: "",

          uid: demoUid

        }));

      }

      

      const userData = JSON.parse(localStorage.getItem("user") || "{}");

      const dpSrc = localStorage.getItem("dp") || "default.png";



      document.getElementById("userName").value = userData.name || "";

      document.getElementById("userEmail").value
